{"version":3,"names":["setDatabaseData","collectionName","data","MongoClient","connect","useNewUrlParser","useUnifiedTopology","client","db","collection","insertMany","close","getDatabaseData","find","toArray","result","resetDatabase","dropDatabase"],"sourceRoot":"D:\\Work\\Code\\Courses\\JS-TDD\\tdd-server\\src\\","sources":["test-helpers.js"],"sourcesContent":["import { MongoClient } from 'mongodb';\n\nexport const setDatabaseData = async (collectionName, data) => {\n    const client = await MongoClient.connect(\n        `mongodb://localhost:27017/TEST_DB`,\n        {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n        },\n    );\n    const db = client.db('TEST_DB');\n\n    await db.collection(collectionName).insertMany(data);\n\n    client.close();\n};\n\nexport const getDatabaseData = async collectionName => {\n    const client = await MongoClient.connect(\n        `mongodb://localhost:27017/TEST_DB`,\n        {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n        },\n    );\n    const db = client.db('TEST_DB');\n\n    const result = await db.collection(collectionName).find().toArray();\n\n    client.close();\n\n    return result;\n};\n\nexport const resetDatabase = async () => {\n    const client = await MongoClient.connect(\n        `mongodb://localhost:27017/TEST_DB`,\n        {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n        },\n    );\n    const db = client.db('TEST_DB');\n\n    await db.dropDatabase();\n\n    client.close();\n};"],"mappings":";;;;;;;;;AAAA;;+CACA,oJ;;;;;;AACO,IAAMA,eAAe;EAAA,sEAAG,iBAAOC,cAAP,EAAuBC,IAAvB;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACNC,oBAAA,CAAYC,OAAZ,sCAEjB;cACIC,eAAe,EAAE,IADrB;cAEIC,kBAAkB,EAAE;YAFxB,CAFiB,CADM;;UAAA;YACrBC,MADqB;YAQrBC,EARqB,GAQhBD,MAAM,CAACC,EAAP,CAAU,SAAV,CARgB;YAAA;YAAA,OAUrBA,EAAE,CAACC,UAAH,CAAcR,cAAd,EAA8BS,UAA9B,CAAyCR,IAAzC,CAVqB;;UAAA;YAY3BK,MAAM,CAACI,KAAP;;UAZ2B;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAfX,eAAe;IAAA;EAAA;AAAA,GAArB;;;;AAeA,IAAMY,eAAe;EAAA,uEAAG,kBAAMX,cAAN;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACNE,oBAAA,CAAYC,OAAZ,sCAEjB;cACIC,eAAe,EAAE,IADrB;cAEIC,kBAAkB,EAAE;YAFxB,CAFiB,CADM;;UAAA;YACrBC,MADqB;YAQrBC,EARqB,GAQhBD,MAAM,CAACC,EAAP,CAAU,SAAV,CARgB;YAAA;YAAA,OAUNA,EAAE,CAACC,UAAH,CAAcR,cAAd,EAA8BY,IAA9B,GAAqCC,OAArC,EAVM;;UAAA;YAUrBC,MAVqB;YAY3BR,MAAM,CAACI,KAAP;YAZ2B,kCAcpBI,MAdoB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAfH,eAAe;IAAA;EAAA;AAAA,GAArB;;;;AAiBA,IAAMI,aAAa;EAAA,uEAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACJb,oBAAA,CAAYC,OAAZ,sCAEjB;cACIC,eAAe,EAAE,IADrB;cAEIC,kBAAkB,EAAE;YAFxB,CAFiB,CADI;;UAAA;YACnBC,MADmB;YAQnBC,EARmB,GAQdD,MAAM,CAACC,EAAP,CAAU,SAAV,CARc;YAAA;YAAA,OAUnBA,EAAE,CAACS,YAAH,EAVmB;;UAAA;YAYzBV,MAAM,CAACI,KAAP;;UAZyB;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAbK,aAAa;IAAA;EAAA;AAAA,GAAnB"}