{"version":3,"names":["DB_NAME","process","env","NODE_ENV","getUserByUsername","username","MongoClient","connect","useNewUrlParser","useUnifiedTopology","client","db","collection","findOne","result","close"],"sourceRoot":"D:\\Work\\Code\\Courses\\JS-TDD\\tdd-server\\src\\","sources":["db.js"],"sourcesContent":["import { MongoClient } from 'mongodb';\n\nconst DB_NAME = process.env.NODE_ENV === 'test'\n    ? 'TEST_DB'\n    : 'PROD_DB';\n\nexport const getUserByUsername = async username => {\n    const client = await MongoClient.connect(\n        `mongodb://localhost:27017/${DB_NAME}`,\n        {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n        },\n    );\n    const db = client.db(DB_NAME);\n\n    const result = await db.collection('users').findOne({ username });\n\n    client.close();\n\n    return result;\n}\n\nexport default {\n    getUserByUsername,\n};"],"mappings":";;;;;;;;;AAAA;;+CACA,oJ;;;;;;AACA,IAAMA,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,GACV,SADU,GAEV,SAFN;;AAIO,IAAMC,iBAAiB;EAAA,sEAAG,iBAAMC,QAAN;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACRC,oBAAA,CAAYC,OAAZ,qCACYP,OADZ,GAEjB;cACIQ,eAAe,EAAE,IADrB;cAEIC,kBAAkB,EAAE;YAFxB,CAFiB,CADQ;;UAAA;YACvBC,MADuB;YAQvBC,EARuB,GAQlBD,MAAM,CAACC,EAAP,CAAUX,OAAV,CARkB;YAAA;YAAA,OAURW,EAAE,CAACC,UAAH,CAAc,OAAd,EAAuBC,OAAvB,CAA+B;cAAER,QAAQ,EAARA;YAAF,CAA/B,CAVQ;;UAAA;YAUvBS,MAVuB;YAY7BJ,MAAM,CAACK,KAAP;YAZ6B,iCActBD,MAdsB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAjBV,iBAAiB;IAAA;EAAA;AAAA,GAAvB;;;eAiBQ;EACXA,iBAAiB,EAAjBA;AADW,C"}